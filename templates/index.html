<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ALUBILLES - Inscription Membre</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>
    <header class="header">
        <div class="header-logo">
            <img src="{{ url_for('static', filename='images/logo billes.jpg') }}" alt="Logo ALUBILLES">

        </div>


        <div class="header-content">
            <h1>ALUBI</h1>
            <p>Association des Anciens Eleves de BILLES</p>
        </div>
    </header>

    <div class="container">
        <nav class="nav">
            <ul>
                <li><a href="{{ url_for('index') }}">Inscription</a></li>
                <li><a href="{{ url_for('verifier_statut') }}">Verifier mon Statut</a></li>
            </ul>
        </nav>

        {% with messages = get_flashed_messages(with_categories=true) %}
            {% if messages %}
                {% for category, message in messages %}
                    <div class="alert alert-{{ category }}">
                        {{ message }}
                    </div>
                {% endfor %}
            {% endif %}
        {% endwith %}

        <div class="form-container">
            <h2>Formulaire d'Inscription</h2>
            <p style="text-align: center; color: #666; margin-bottom: 20px;">
                Remplissez ce formulaire pour demander votre carte de membre ALUBILLES.<br>
                <small>Votre demande sera examinee par l'administration apres verification du paiement.</small>
            </p>

            <form id="inscription-form" action="{{ url_for('inscription') }}" method="POST" enctype="multipart/form-data">
                <div class="form-row">
                    <div class="form-group">
                        <label for="nom">Nom *</label>
                        <input type="text" id="nom" name="nom" required placeholder="Votre nom de famille">
                    </div>
                    <div class="form-group">
                        <label for="prenom">Prenom *</label>
                        <input type="text" id="prenom" name="prenom" required placeholder="Votre prenom">
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="date_naissance">Date de Naissance</label>
                        <input type="date" id="date_naissance" name="date_naissance">
                    </div>

                    <div class="form-group">
                        <label for="genre">Genre</label>
                            <select id="genre">
                                <option value="Masculin">Masculin</option>
                                <option value="F√©minin">F√©minin</option>
                            </select>
                    </div>

                </div>

                <div class="form-row">
                     <div class="form-group">
                        <label for="promotion">Ann√©e de Promotion</label>
                        <input type="text" id="promotion" name="promotion" placeholder="Ex: 2020">
                    </div>


                    <div class="form-group">
                        <label for="programme">Programme suivi apr√©s le Bac</label>
                        <input type="text" id="programme" name="programme" placeholder="Ex: Licence en Informatique, BTS Commerce...">
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="email">Email</label>
                        <input type="email" id="email" name="email" placeholder="votre@email.com">
                    </div>
                    <div class="form-group">
                        <label for="telephone">Telephone</label>
                        <input type="tel" id="telephone" name="telephone" placeholder="+221 77 123 45 67">
                    </div>
                </div>

                <div class="form-group">
                    <label for="adresse">Adresse</label>
                    <textarea id="adresse" name="adresse" placeholder="Votre adresse..."></textarea>
                </div>

                <div class="form-group">
                    <label>Photo d'Identite</label>
                    <div class="photo-upload">
                        <input type="file" id="photo" name="photo" accept="image/*">
                        <p>Cliquez pour selectionner une photo</p>
                        <small>Formats acceptes: JPG, PNG, GIF (max 16MB)</small>
                        <img id="photo-preview" class="photo-preview" style="display: none;" alt="Apercu">
                    </div>
                </div>

                <!-- SECTION DE CONSENTEMENT -->
                <div class="consent-section">
                    <div class="consent-title">üìã Conditions d'Adh√©sion et Engagement</div>

                    <div class="consent-text">
                        <p><strong>En tant que membre de ALUBILLES, je m'engage √†:</strong></p>

                        <ul>
                            <li><strong>Respecter les r√®gles et statuts de l'association</strong> et participer activement √† sa vie commune</li>

                            <li><strong>Honorer mes cotisations mensuelles</strong> selon le tarif en vigueur, dans les d√©lais impartis</li>

                            <li><strong>Rester disponible et engag√©</strong> dans les activit√©s et √©v√©nements de l'association</li>

                            <li><strong>R√©pondre promptement aux messages</strong> et communications de l'association, notamment concernant les r√©unions et cotisations</li>

                            <li><strong>Contribuer au rayonnement de ALUBILLES</strong> en participant √† ses projets et initiatives</li>

                            <li><strong>Respecter la confidentialit√©</strong> des informations partag√©es au sein de l'association</li>

                            <li><strong>Adopter une conduite respectueuse</strong> envers les autres membres et les valeurs de l'association</li>

                            <li><strong>Informer imm√©diatement l'administration</strong> de tout changement d'adresse, t√©l√©phone ou email</li>
                        </ul>

                        <p style="margin-top: 15px; font-style: italic; color: #d32f2f;">
                            ‚ö†Ô∏è Le non-respect de ces engagements peut entra√Æner une suspension ou une radiation de l'association.
                        </p>
                    </div>

                    <div class="consent-checkbox">
                        <input type="checkbox" id="consent" name="consent" required>
                        <label for="consent">
                            Je confirme avoir lu et accept√© les conditions d'adh√©sion. <B>Je m'engage √† respecter les r√®gles et √† rester actif au sein de l'association. Je suis √©galement conscient que le non-paiement des cotisations entra√Ænera des mesures.</B>
                        </label>
                    </div>
                    <div class="error-consent" id="consent-error">Vous devez accepter les conditions pour poursuivre</div>
                </div>

                <button type="submit" class="btn btn-primary btn-block">
                    Envoyer ma Demande d'Inscription
                </button>
            </form>
        </div>
    </div>

    <footer class="footer">
        <p>&copy; 2024 ALUBILLES - Association des Anciens Eleves</p>
    </footer>

    <script src="{{ url_for('static', filename='js/main.js') }}"></script>
    <script>
        // Validation du consentement avant soumission
        document.getElementById('inscription-form').addEventListener('submit', function(e) {
            const consentCheckbox = document.getElementById('consent');
            const consentError = document.getElementById('consent-error');

            if (!consentCheckbox.checked) {
                e.preventDefault();
                consentError.classList.add('show');
                consentCheckbox.focus();
                return false;
            } else {
                consentError.classList.remove('show');
            }
        });

        // Enlever le message d'erreur quand l'utilisateur coche la case
        document.getElementById('consent').addEventListener('change', function() {
            const consentError = document.getElementById('consent-error');
            if (this.checked) {
                consentError.classList.remove('show');
            }
        });
    </script>
</body>
</html>